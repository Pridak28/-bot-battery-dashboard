/* ============================================================================
   BATTERY ANALYTICS PLATFORM - ENHANCED SPACING & VISIBILITY
   Professional Financial Technology Interface - LIGHT THEME
   ============================================================================ */

/* Keep all existing root variables and base styles from style.css */
:root {
    /* PRIMARY BRAND - Original Blue Palette */
    --brand-primary: #1d4ed8;
    --brand-primary-light: #3b82f6;
    --brand-primary-dark: #153ba8;
    --brand-accent: #0ea5e9;
    --brand-gradient: linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%);

    /* BACKGROUNDS - LIGHT THEME */
    --bg-main: #f5f7fb;
    --bg-main-secondary: #f5f7fb;
    --bg-card: #ffffff;
    --bg-card-alt: #f9fbff;
    --bg-sidebar: #ffffff;
    --bg-input: #ffffff;
    --bg-header: #ffffff;

    /* TEXT COLORS */
    --text-primary: #0f172a;
    --text-secondary: #475569;
    --text-tertiary: #64748b;
    --text-on-dark: #ffffff;

    /* BORDERS */
    --border-light: #e2e8f0;
    --border-medium: #cbd5e1;
    --border-dark: #94a3b8;

    /* STATUS COLORS */
    --color-success: #16a34a;
    --color-success-bg: #dcfce7;
    --color-warning: #f59e0b;
    --color-warning-bg: #fef3c7;
    --color-error: #ef4444;
    --color-error-bg: #fee2e2;
    --color-info: #0ea5e9;
    --color-info-bg: #e0f2fe;

    /* ENHANCED SPACING */
    --space-xs: 0.75rem;
    --space-sm: 1rem;
    --space-md: 1.5rem;
    --space-lg: 2rem;
    --space-xl: 3rem;
    --space-2xl: 4rem;

    /* RADIUS */
    --radius-sm: 0.4rem;
    --radius-md: 0.6rem;
    --radius-lg: 1rem;
}

/* ============================================================================
   ENHANCED CONTAINER SPACING
   ============================================================================ */

/* Main content area - More generous spacing */
.main .block-container {
    max-width: 1600px !important;
    padding: 3rem 3rem 4rem !important;
    margin: 0 auto !important;
}

/* Streamlit columns - Better spacing */
[data-testid="column"] {
    padding: 0 0.75rem !important;
}

div[data-testid="stVerticalBlock"] > div:not([data-testid]) {
    margin-bottom: 1.5rem !important;
}

/* ============================================================================
   ENHANCED METRICS - BETTER VISIBILITY
   ============================================================================ */

[data-testid="stMetric"] {
    background: var(--bg-card) !important;
    border: 2px solid var(--border-light) !important;
    border-left: 5px solid var(--brand-accent) !important;
    border-radius: var(--radius-md) !important;
    padding: 1.75rem 2rem !important;
    margin-bottom: 2rem !important;
    box-shadow: 0 4px 16px rgba(15, 23, 42, 0.08), 0 0 0 1px rgba(37, 99, 235, 0.05) !important;
    transition: all 0.3s ease !important;
    min-height: 120px !important;
}

[data-testid="stMetric"]:hover {
    border-left-color: var(--brand-primary) !important;
    box-shadow: 0 8px 24px rgba(15, 23, 42, 0.12), 0 0 20px rgba(29, 78, 216, 0.08) !important;
    transform: translateY(-2px) !important;
}

/* ============================================================================
   ENHANCED TABLES & DATAFRAMES
   ============================================================================ */

[data-testid="stDataFrame"],
.stDataFrame,
[data-testid="stTable"] {
    margin: 2rem 0 !important;
    border: 2px solid var(--border-medium) !important;
    border-radius: var(--radius-md) !important;
    overflow: visible !important;
    background: var(--bg-card) !important;
    box-shadow: 0 6px 20px rgba(15, 23, 42, 0.08) !important;
}

/* Table headers - More prominent */
[data-testid="stDataFrame"] th,
[data-testid="stTable"] th {
    background: linear-gradient(135deg, #f0f5fb 0%, #e5eef9 100%) !important;
    color: var(--brand-primary) !important;
    font-weight: 700 !important;
    font-size: 0.75rem !important;
    text-transform: uppercase !important;
    letter-spacing: 0.1em !important;
    border-bottom: 3px solid var(--brand-accent) !important;
    padding: 1.25rem 1rem !important;
    white-space: nowrap !important;
}

/* Table cells - Better padding */
[data-testid="stDataFrame"] td,
[data-testid="stTable"] td {
    padding: 1rem !important;
    border-bottom: 1px solid var(--border-light) !important;
    background: var(--bg-card) !important;
    font-size: 0.875rem !important;
}

/* Table hover effect */
[data-testid="stDataFrame"] tr:hover td,
[data-testid="stTable"] tr:hover td {
    background: var(--bg-card-alt) !important;
    box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.1) inset !important;
}

/* ============================================================================
   ENHANCED TEXT AREAS & CONTAINERS
   ============================================================================ */

/* Text areas - Better for scrollable content */
.stTextArea textarea {
    background: var(--bg-input) !important;
    border: 2px solid var(--border-medium) !important;
    border-radius: var(--radius-md) !important;
    color: var(--text-primary) !important;
    padding: 1rem !important;
    margin-bottom: 1.5rem !important;
    font-family: 'IBM Plex Mono', monospace !important;
    font-size: 0.875rem !important;
    line-height: 1.6 !important;
    box-shadow: inset 0 2px 6px rgba(15, 23, 42, 0.05) !important;
}

/* Disabled text areas (for AI responses) */
.stTextArea textarea:disabled {
    background: var(--bg-card-alt) !important;
    color: var(--text-primary) !important;
    opacity: 1 !important;
    cursor: default !important;
}

/* ============================================================================
   ENHANCED CONTAINERS & SECTIONS
   ============================================================================ */

/* Container with height (scrollable areas) */
[data-testid="stVerticalBlock"] > div[style*="height"] {
    border: 2px solid var(--border-light) !important;
    border-radius: var(--radius-md) !important;
    padding: 1rem !important;
    background: var(--bg-card-alt) !important;
    box-shadow: inset 0 2px 6px rgba(15, 23, 42, 0.03) !important;
    overflow-y: auto !important;
    scrollbar-width: thin !important;
}

/* Custom scrollbar for containers */
[data-testid="stVerticalBlock"] > div[style*="height"]::-webkit-scrollbar {
    width: 8px !important;
}

[data-testid="stVerticalBlock"] > div[style*="height"]::-webkit-scrollbar-track {
    background: var(--bg-main) !important;
    border-radius: var(--radius-sm) !important;
}

[data-testid="stVerticalBlock"] > div[style*="height"]::-webkit-scrollbar-thumb {
    background: var(--border-medium) !important;
    border-radius: var(--radius-sm) !important;
}

[data-testid="stVerticalBlock"] > div[style*="height"]::-webkit-scrollbar-thumb:hover {
    background: var(--brand-accent) !important;
}

/* ============================================================================
   ENHANCED EXPANDERS - CLEARER SECTIONS
   ============================================================================ */

.streamlit-expanderHeader {
    background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-card-alt) 100%) !important;
    border: 2px solid var(--border-medium) !important;
    border-radius: var(--radius-md) !important;
    padding: 1rem 1.5rem !important;
    margin: 1.5rem 0 0.5rem 0 !important;
    box-shadow: 0 3px 10px rgba(15, 23, 42, 0.06) !important;
    font-weight: 600 !important;
}

[data-testid="stExpanderDetails"] {
    margin-top: 0 !important;
    padding: 1.5rem !important;
    background: var(--bg-card) !important;
    border: 2px solid var(--border-light) !important;
    border-top: none !important;
    border-radius: 0 0 var(--radius-md) var(--radius-md) !important;
    box-shadow: 0 4px 12px rgba(15, 23, 42, 0.04) !important;
}

/* ============================================================================
   ENHANCED PLOTLY CHARTS
   ============================================================================ */

[data-testid="stPlotlyChart"] {
    margin: 2rem 0 !important;
    padding: 1rem !important;
    background: var(--bg-card) !important;
    border: 2px solid var(--border-light) !important;
    border-radius: var(--radius-md) !important;
    box-shadow: 0 4px 16px rgba(15, 23, 42, 0.06) !important;
}

/* ============================================================================
   ENHANCED HEADERS & SECTIONS
   ============================================================================ */

/* Main headers - More prominent */
h1 {
    margin: 2rem 0 1.5rem 0 !important;
    padding-bottom: 1rem !important;
    border-bottom: 3px solid var(--brand-accent) !important;
}

h2 {
    margin: 2rem 0 1.25rem 0 !important;
    padding-bottom: 0.75rem !important;
    border-bottom: 2px solid var(--border-light) !important;
}

h3 {
    margin: 1.75rem 0 1rem 0 !important;
    color: var(--brand-primary) !important;
}

/* Subheader spacing */
[data-testid="stSubheader"] {
    margin: 1.5rem 0 1rem 0 !important;
}

/* Caption spacing */
[data-testid="stCaption"] {
    margin: 0.5rem 0 1rem 0 !important;
    color: var(--text-tertiary) !important;
}

/* ============================================================================
   ENHANCED DIVIDERS
   ============================================================================ */

[data-testid="stHorizontalBlock"] > hr,
hr {
    margin: 2rem 0 !important;
    border: none !important;
    border-top: 2px solid var(--border-light) !important;
    opacity: 1 !important;
}

/* ============================================================================
   ENHANCED CODE BLOCKS
   ============================================================================ */

.stCodeBlock,
[data-testid="stCode"] {
    margin: 1.5rem 0 !important;
    border: 2px solid var(--border-medium) !important;
    border-radius: var(--radius-md) !important;
    overflow: hidden !important;
    box-shadow: 0 3px 10px rgba(15, 23, 42, 0.05) !important;
}

.stCodeBlock pre,
[data-testid="stCode"] pre {
    padding: 1.25rem !important;
    margin: 0 !important;
    background: var(--bg-card-alt) !important;
    font-size: 0.875rem !important;
    line-height: 1.6 !important;
}

/* ============================================================================
   ENHANCED BUTTONS - MORE PROMINENT
   ============================================================================ */

.stButton > button {
    min-height: 48px !important;
    padding: 0.875rem 2rem !important;
    margin: 1rem 0 !important;
    font-size: 0.875rem !important;
    font-weight: 700 !important;
    letter-spacing: 0.05em !important;
    box-shadow: 0 4px 12px rgba(29, 78, 216, 0.2) !important;
}

/* Primary button enhancement */
.stButton > button[kind="primary"] {
    background: var(--brand-gradient) !important;
    border: none !important;
    box-shadow: 0 6px 20px rgba(29, 78, 216, 0.3) !important;
}

/* ============================================================================
   ENHANCED ALERTS - MORE VISIBLE
   ============================================================================ */

.stAlert[data-baseweb="notification"] {
    margin: 1.5rem 0 !important;
    padding: 1.25rem 1.5rem !important;
    border-left-width: 5px !important;
    box-shadow: 0 4px 12px rgba(15, 23, 42, 0.06) !important;
}

/* ============================================================================
   ENHANCED SPINNERS
   ============================================================================ */

[data-testid="stSpinner"] {
    margin: 2rem 0 !important;
}

/* ============================================================================
   RESPONSIVE IMPROVEMENTS
   ============================================================================ */

@media (min-width: 1400px) {
    .main .block-container {
        padding: 3rem 4rem 5rem !important;
    }
}

@media (max-width: 768px) {
    [data-testid="column"] {
        padding: 0 0.5rem !important;
    }

    .main .block-container {
        padding: 1.5rem 1rem !important;
    }

    [data-testid="stMetric"] {
        padding: 1.25rem 1.5rem !important;
    }
}